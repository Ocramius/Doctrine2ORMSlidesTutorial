<pre><code data-trim>
class InvoiceController {
    public function postAction()
    {
        // validation

        $invoice = new Invoice();

        // fill the invoice with data

        $this->invoiceService->save($invoice);

        return $renderTemplate($invoice);
    }
}
</code></pre>

<p>* deliberately bad example</p>